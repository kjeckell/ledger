<html>
    <head>
        
    </head>
    <body>
        <h1>All Players</h1>
        <div id="players">

        </div>

        <h1>New Players</h1>
        <form>
            <label for="email">Email</label>
            <input type="text" id="email" />

            <label for="fullName">Full Name</label>
            <input type="text" id="fullName" />

            <label for="nickName">Nick Name</label>
            <input type="text" id="nickName" />

            <button id="submitButton">Submit</button>
        </form>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $.ajax({
                    type: "GET",
                    url: "https://02n55m01gk.execute-api.us-east-1.amazonaws.com/qa/player",
                    dataType: "text json",
                    contentType: "application/json",
                    async: false,
                    
                    success: function(result,status,xhr) {
                        for (i = 0; i < result.players.length; i++) { 
                            $('#players').append('<p>' + result.players[i].fullName.S + '</p>')
                        }
                    },

                    error: function(xhr,status,error) {
                        alert("Fail");
                    }
                });
            });

            $('#submitButton').on('click', function() {
                $.ajax({
                    type: "POST",
                    url: "https://02n55m01gk.execute-api.us-east-1.amazonaws.com/qa/player",
                    dataType: "text json",
                    data: JSON.stringify({
                        "email": document.getElementById('email').value, 
                        "fullName": document.getElementById('fullName').value,
                        "nickName": document.getElementById('nickName').value
                    }),
                    contentType: "application/json",
                    async: false,
                    
                    success: function(result,status,xhr) {
                        alert(result.resultText)
                        location.reload();
                    },

                    error: function(xhr,status,error) {
                        alert("Failed")
                    }
                });

                return false
            });
        </script>
    </body>
</html>